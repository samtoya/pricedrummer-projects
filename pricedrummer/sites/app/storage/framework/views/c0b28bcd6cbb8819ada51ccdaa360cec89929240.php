<?php $__env->startSection('title'); ?> <?php echo e($category_name); ?> prices - Compare <?php echo e($category_name); ?> deals when buying a <?php echo e($category_name); ?> <?php $__env->stopSection(); ?>


    
          
    
          
    
    


<?php $__env->startSection('meta'); ?>
    <?php if( $category_name == "Electronics & Computers"): ?>
        <meta name="description" content="Compare prices and save money on the best deals for phones, TVs, laptops, tablets, PCs, cameras, game consoles, audio systems, printers, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, Electronics, computers, monitors, mobile phones, TVs, laptops, tablets, cameras, game consoles, home theater, audio speakers, printers, projectors, electronic accessories"/>

    <?php elseif( $category_name == "Camera" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on Cameras from Sony, Nikon, Leica, Samsung, Canon, Olympus, Fuji, Kodak, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals,  Digital Cameras, Sony, Nikon, Leica, Samsung, Canon, Olympus, Fuji, Kodak"/>

    <?php elseif( $category_name == "Camcoders" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on Camcorders, action cameras from Panasonic, Canon, Sony, JVC, GoPro, Olympus, Garmin, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals,  Camcorders, Action Cameras,  Panasonic, Canon, Sony, JVC, GoPro, Olympus, Garmin, Tomtom"/>

    <?php elseif( $category_name == "Projectors" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on Projectors from Epson, BenQ, Sony, Nec, Optoma, ViewSonic, Canon, InFocus, LG, Dell, and more in <?php echo e($country_name); ?>.">

    <?php elseif( $category_name == "Tvs" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on TVs from Samsung, LG, Panasonic, Sony, Nasco, Bruhm, Grundig, TCL, Sharp, Skyworth, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, TVs, Samsung, LG, Panasonic, Sony, Nasco, Bruhm, Grundig, TCL, Sharp, Skyworth"/>

    <?php elseif( $category_name == "Home Theater Systems" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on home theater systems, sound bars, blu-ray players, Hi-Fi systems, amplifiers, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, home theater systems, sound bars, blu-ray players, Hi-Fi systems, amplifiers, receivers, dvd players"/>

    <?php elseif( $category_name == "Mobile Phones" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals for mobile phones like Samsung, Apple, Infinix, Huawei, Tecno, Itel, Hotwav, Lumia, HTC, LG, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, Mobile phones, Samsung, Apple, Infinix, Huawei, Tecno, Itel, Hotwav, Lumia, HTC, LG"/>

    <?php elseif( $category_name == "Game Consoles" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on game consoles like Xbox One, Playstation 4, Nintendo Shield, Nvidia Shield, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, game consoles Xbox One, Xbox 360, Playstation 4, Playstation 3, Playstation Vita, Nintendo Shield, Nintendo 3DS, Nvidia Shield"/>

    <?php elseif( $category_name == "Laptops" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals for traditional laptops, 2-in-1 laptops, mobile workstations, chromebooks, gaming notebooks, in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, traditional laptops, 2-in-1 laptops, mobile workstations, chromebooks, gaming notebooks"/>

    <?php elseif( $category_name == "Tablets" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on Android tablets, iPads, 2-in-1 tablets, Microsoft Surface tablets, Amazon Kindle, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, tablet computer, Android tablets, iPads, 2-in-1 tablets, Microsoft Surface tablets, Amazon Kindle"/>

    <?php elseif( $category_name == "Printers" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on ink and laser printers, all-in-ones, from HP, Canon, Epson, Dell, Brother, Samsung, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, ink and laser printers, all-in-ones, HP, Canon, Epson, Dell, Brother, Samsung"/>

    <?php elseif( $category_name == "Scanners" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on flatbed and sheet feeder scanners from HP, Canon, Kodak, Epson, Brother, Xerox, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals,  flatbed Scanners, sheet feeder scanners, HP, Canon, Kodak, Epson, Brother, Xerox, Fujitsu"/>

    <?php elseif( $category_name == "Desktops" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on desktops, all-in-ones, mini computers, servers from HP, Dell, Asus, Apple, IBM, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, desktops, all-in-ones, mini computers, servers, HP, Dell, Asus, Apple, IBM"/>

    <?php elseif( $category_name == "Home & Garden" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals for fridges, kitchen stoves, air conditioners, washing machines, furniture, generators, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, home appliances, home office Furniture, bedding and bath, generators, gardening tools, kitchen and bathroom fixtures, lighting"/>

    <?php elseif( $category_name == "Toys, Children & Family" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals for toys, strollers, kids furniture, child safety seats, feeding bottles, baby hygiene, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, toys, kids furniture, child safety seats, feeding chairs, feeding bottles, baby hygiene"/>

    <?php elseif( $category_name == "Clothes, Shoes & Jewellery" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals on clothing for men, women, kids, and babies, shoes, jewelery, and other clothing accessories in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, men clothing, women clothing, clothing for babies and kids, shoes. Jewelry, cloth accessories"/>

    <?php elseif( $category_name == "Health & Beauty" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals for perfumes, make-up, skincare, hair and eye products, health monitors, first-aid, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, shopping in <?php echo e($country_name); ?>, compare prices, best deals, health and beauty, Nutrition products, First Aid, Personal Care, Perfume, Hair Care, Skincare, Eye and Ear Care, Health Monitors, Make-up Health and Beauty Accessories"/>

    <?php elseif( $category_name == "Autos & Accessories" ): ?>
        <meta name="description" content="Compare prices and save money on the best deals for new or used cars, motorbikes, pickups, buses, trucks, auto parts, car accessories, and more in <?php echo e($country_name); ?>.">
        <meta name="keywords"
              content="Smart shopping online, cars in <?php echo e($country_name); ?>, compare prices, best deals, new and used cars, motorbikes, pickups, buses, trucks, auto parts, car accessories"/>

    <?php else: ?>
        <meta name="description"
              content="<?php echo e($category_name); ?>. Compare <?php echo e($country_name); ?> prices for <?php echo e($category_name); ?> brands, read product reviews and use our easy price comparison to help you find the best value online at PriceDrummer in <?php echo e($country_name); ?>"/>
        <meta property="og:description"
              content="Find the cheapest prices on <?php echo e($category_name); ?> on PriceDrummer <?php echo e($country_name); ?>"/>
        <meta name="keywords"
              content="<?php echo e($category_name); ?>, Compare <?php echo e($category_name); ?> prices, Cheap <?php echo e($category_name); ?> products online, reviews on <?php echo e($category_name); ?> products, expert <?php echo e($category_name); ?> reviews,  discount <?php echo e($category_name); ?>, cheapest <?php echo e($category_name); ?> products online, PriceDrummer <?php echo e($country_name); ?>"/>
    <?php endif; ?>

    <meta property="og:title" content="<?php echo e($category_name); ?> â€“ Best deals on PriceDrummer <?php echo e($country_name); ?>"/>
    <meta name="og:description" content="Compare prices and save money on the best deals for <?php echo e($category_name); ?>, and more on PriceDrummer in <?php echo e($country_name); ?>.">
<?php $__env->stopSection(); ?>


<?php $__env->startSection('content'); ?>
    <div class="visible-xs">
        <div class="filter_area_wrapper" id="filter_area_wrapper">
            <div class="filter_box" id="filter_area">
                
                <?php echo $__env->make('pages.dynamic.shared.mobile_filters', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
                
            </div>
        </div>
    </div>

    <div class="container" style="margin-top: 15px;">
        <!-- Breadcrumb begins -->

        <div class="row">

            <div class="no-padding col-md-12 col-sm-12 hidden-xs col-lg-12" style="margin-top: -10px;">
                <div class="breadcrumb">
                    <div class="bread-crumb">
                        <ul>
                            <li class="bc-home"><a href="<?php echo e(url('/')); ?>">PriceDrummer</a></li>
                            <?php $__currentLoopData = $breadcrumbs; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $breadcrumb): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
                                <?php if($loop->first): ?>
                                    <li class="bc-home">
                                        <a href="/category/<?php echo e($breadcrumb->category_id); ?>/<?php echo e(spacelessUrl(lowercase($breadcrumb->name))); ?>"><?php echo e($breadcrumb->name); ?></a>
                                    </li>
                                <?php elseif($loop->last): ?>
                                    <li class="bc-home breadcrumb-last"><?php echo e($breadcrumb->name); ?></li>
                                <?php else: ?>
                                    <li class="bc-home breadcrumb-not-last"><?php echo e($breadcrumb->name); ?></li>
                                <?php endif; ?>
                            <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?>
                        </ul>
                    </div>
                </div>
            </div>
        </div> <!-- end row div -->
        <!-- Breadcrumb ends here -->
        <div class="row">

            <!-- Main Filter Sidebar (Make it off-canvas on mobile) -->
            <div id="filterBar" class="col-md-3 hidden-xs col-lg-3 col-sm-4"
                 style="margin-left: -15px; margin-top: 13px;">

                <?php echo $__env->make('pages.dynamic.shared.filters', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>

            </div> <!-- end col-md-3 div -->
            <!-- Main Filter Sidebar ends here -->

            <div class="ad-area visible-xs" style="margin: 0px auto -25px;width: 95%;">
                <!-- Advertisement -->
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- Mobile Banner 320 x 50 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:320px;height:50px"
                     data-ad-client="ca-pub-2224646482907163"
                     data-ad-slot="8836011731"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <!-- Main content (width: 65%; margin-left: -15px) -->
            <div id="contentArea" class="col-md-8 col-lg-6 no-padding col-sm-8 col-xs-12" style="margin-top: 13px;">
                <div class="spinner" id="spinner" style="display: none; z-index: 999999;">
                    <img src='/img/loading.gif'  style="margin: 10% auto auto 47%;"/>
                </div>

                <ul class="nav nav-tabs nav-pills hidden-xs" style="margin-left: 0; margin-right: 0;">
                    <li class="active"><a aria-expanded="true" data-toggle="tab"
                                          target="_self" href="#Compare_Prods" class="pad_a">Compare Products</a></li>

                    <li class=""><a aria-expanded="false" data-toggle="tab"
                                    target="_self" href="#buyers_guide" class="pad_a">Buyers Guide</a></li>
                </ul>

                <!-- Tab content goes here-->
                <div class="tab-content" style="margin: 0 0 15px;">
                    <div id="Compare_Prods" class="tab-pane fade active in">
                        <div class="container-fluid"></div>
                    </div>

                    <div id="top_products" class="tab-pane fade">
                        <div class="container-fluid">
                            <p class="tab_cont">
                            <div class="row">
                                <div class="col-xs-6 col-md-4 col-sm-4">
                                    <div class="thumbnail">
                                        <div class="product-image">
                                            <div class="show-img">
                                                <a href=""><img src="" alt="" style="max-width: 70%;">Top Product
                                                    Name</a>
                                            </div>

                                        </div>
                                        <div class="prod-info">
                                            <h2 class="pro-name1">
                                                <a href="">Top Product Name</a>
                                            </h2>

                                            <div class="flo_at">
                                                <div class="actions">
													<span class="add-to-cart">
														<a href=""
                                                           id="top_product"><span>Top Product Price</span></a>
													</span>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="buyers_guide" class="tab-pane fade">
                        <br>
                        <?php $__currentLoopData = $buyers_guide; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $guide): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>
                            <div class="container-fluid">
                                <p class="tab_cont">
                                    <!-- Buying Guide Content Goes here -->
                                </p>
                                <span><?php echo $guide->heading; ?></span>
                                <p>
                                    <?php if($guide->has_image == 1): ?>
                                        <img style="float: left; border: 10px solid beige; padding: 5px; margin: 0 8px; max-height: 120px;"
                                             src="http://www.pricedrummer.com/images/static/buying_guide_images/thumbs/<?php echo e($guide->id); ?>.png">
                                    <?php endif; ?>
                                    <span class="guide_content"><?php echo ReformatHTML($guide->content); ?></span>
                                </p>
                            </div><br/>
                        <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?>
                    </div>

                </div> <!-- end tab content div -->
                <!--Tab content ends here -->

                <!-- Shop area begins here -->
                <div class="shop-area">
                    <div class="shop-short-wrapper clearfix">

                        <div class="shop-sort clearfix">
                            <ul class="pull-left" style="font-size: 12px; padding: 10px;">
                                <li class="hidden-xs"
                                    style="margin-left: 5px; font-weight: 600;"><?php echo e($compare_products_data->total); ?>

                                    products
                                </li>
                            </ul>
                            <ul class="grid-list-button clearfix">
                                <li class="<?php if(isset($_GET['view']) && trim($_GET['view']) =='list' ): ?>
                                <?php echo e('active'); ?>

                                <?php endif; ?>
                                        ">
                                    <a id="listView" href="/list">
                                        <i class="fa fa-th-list"></i> List View
                                    </a>
                                </li>

                                <li class="<?php if(isset($_GET['view']) && trim($_GET['view']) =='grid' ): ?>
                                <?php echo e('active'); ?>

                                <?php elseif( !isset($_GET['view']) ): ?>
                                <?php echo e('active'); ?>

                                <?php endif; ?>
                                        ">
                                    <a id="gridView" href="/grid">
                                        <i class="fa fa-th"></i> Grid View
                                    </a>
                                </li>
                                <li class="pull-left visible-xs">
                                    <a id="m-filter-btn">
                                        <i class="fa fa-filter"></i> Filter
                                    </a>
                                </li>
                                <li class="hidden-xs">
                                    <select class="select_dropdown" onchange="genereateSortLink($(this).val());">
                                        <option value="" disabled selected >Sort by</option>
                                        <option value="1" > A-Z </option>
                                        <option value="2">Price</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                        <div class="shop-sort visible-xs mobile_meta">
                            <ul class="" style="">
                                <li class="pull-left mtotal" style="">
                                    <span><?php echo e($compare_products_data->total); ?></span>
                                    products
                                </li>
                                <li class="pull-right mselect_dropdown">
                                    <select onchange="genereateSortLink($(this).val());">
                                        <option value="">Sort by</option>
                                        <option value="1">A-Z</option>
                                        <option value="2">Price</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </div> <!-- end shop-short-wrapper div -->

                    <div class="tab-content" style="background: none;">
                        <?php if($view=='grid'): ?>
                            <?php echo $__env->make('pages.dynamic.filter_grid', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
                        <?php elseif($view=='list'): ?>
                            <?php echo $__env->make('pages.dynamic.filter_list', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
                        <?php else: ?>
                            <?php echo $__env->make('pages.dynamic.filter_grid', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
                        <?php endif; ?>


                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-xs-12">
                                <?php echo $__env->make('pages.dynamic.shared.filter_pagination', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>
                            </div>
                        </div>

                    </div> <!-- end tab content div -->

                </div> <!-- end shop area div -->
                <!--Shop area ends here -->


            </div> <!-- end col-md-7 div -->
            <!-- Main content ends here -->
            <div class="col-md-2 col-xs-12" style="margin-left: -5px; margin-top: 13px;">
                <div class="hidden-xs">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Wide Skyscraper 160 x 600 -->
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:160px;height:600px"
                         data-ad-client="ca-pub-2224646482907163"
                         data-ad-slot="8696410934"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                <div class="visible-xs">
                    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                    <!-- Large Rectangle Desktop -->
                    <ins class="adsbygoogle"
                         style="display:inline-block;width:336px;height:280px"
                         data-ad-client="ca-pub-2224646482907163"
                         data-ad-slot="5882545338"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>

                </div>
            </div><!-- end col-md-2 div -->

            <!-- Mobile content -->
            <!-- End mobile content div -->
        </div>

        <input type="hidden" value="<?php if( isset($_GET['fs']) ){ echo trim($_GET['fs']); }else{ echo '0'; } ?>" id="mfilter_state" />
    </div>
<?php $__env->stopSection(); ?>

<?php $__env->startSection('scripts'); ?>
    <script>
        $(function () {
            $('#filter_area_wrapper').on('click', function (e) {
                if (e.target !== this)
                    return;

                $(this).hide();
                $('#filter_area').hide();

                $('#mfilter_state').val('0');  //chanse the state of the mobile filter specs to close ( 0 for close)

                //Re-Generate the urls for the list and grid view
                $('#gridView').attr('href', change_query_string_obj({'view' : 'grid', 'fs' : '0'}));
                $('#listView').attr('href', change_query_string_obj({'view' : 'list', 'fs' : '0'}));

                if($('#pagination-first')){
                    $('#pagination-first').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-first').attr('href')));
                }
                if($('#pagination-prev')){
                    $('#pagination-prev').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-prev').attr('href')));
                }
                if($('#pagination-next')){
                    $('#pagination-next').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-next').attr('href')));
                }
                if($('#pagination-last')){
                    $('#pagination-last').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-last').attr('href')));
                }


            });

            $('#m-filter-btn').click(function (e) {
                e.preventDefault();

                $('#mfilter_state').val('1');

                $('#filter_area_wrapper').show();
                $('#filter_area').show();
            });

            $('#close_filter_area').on('click', function () {

                $('#filter_area').hide();

                $('#filter_area_wrapper').hide();


                $('#mfilter_state').val('0');  //chanse the state of the mobile filter specs to close ( 0 for close)

                //Re-Generate the urls for the list and grid view
                $('#gridView').attr('href', change_query_string_obj({'view' : 'grid', 'fs' : '0'}));
                $('#listView').attr('href', change_query_string_obj({'view' : 'list', 'fs' : '0'}));

                if($('#pagination-first').length > 0){
                    $('#pagination-first').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-first').attr('href')));
                }
                if($('#pagination-prev').length > 0){
                    $('#pagination-prev').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-prev').attr('href')));
                }
                if($('#pagination-next').length > 0){
                    $('#pagination-next').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-next').attr('href')));
                }
                if($('#pagination-last').length > 0){
                    $('#pagination-last').attr('href', change_query_string_with_link('fs' , '0', $('#pagination-last').attr('href')));
                }
            });

        });

        $( document ).ready(function() {
            function set_mobile_filter_state() {
                var f_state = $('#mfilter_state').val();
                console.log(f_state);
                if (f_state == 0) {
                    $('#filter_area').hide();
                    $('#filter_area_wrapper').hide();
                }
                if (f_state == 1) {
                    $('#filter_area_wrapper').show();
                    $('#filter_area').show();
                }
            }

            set_mobile_filter_state();
        });

        function showCanvas() {
            var filter_content = $('#filterBar').html();
            $('#js-bootstrap-offcanvas').append(filter_content);

            return false;
            /* $('#offcanvas').offcanvas(
             'show'
             );*/

        }

        //Toggle Specs Container section
        function toggleView(view) {
            theid = $(view).attr("id");
            list_item = $(view).parent()[0];
            console.log(list_item);

            if ($(list.item).hasClass("active")) {
                console.log('Has class');
            } else {
                console.log('Dont have class');
            }
        }

        function ToggleFilterSpecs(ele_id, head_icon) {
            $('#' + ele_id).slideToggle(900);
            var headIc = $('#' + ele_id).siblings('.filter-heading').find('#' + head_icon);
            if (headIc.hasClass('fa-plus-circle')) {
                headIc.removeClass('fa-plus-circle');
                headIc.addClass('fa-minus-circle');
            } else {
                headIc.removeClass('fa-minus-circle');
                headIc.addClass('fa-plus-circle');
            }
        }

        //Price Range Slider Section
        $(function () {
            init_price_slider(
                'slider-range',
                <?php echo e($min_price); ?>,
                <?php echo e($max_price); ?>,
                'p-slider-min',
                'p-slider-max',
                <?php if ( isset( $_GET[ 'min_price' ] ) && is_numeric( trim( $_GET[ 'min_price' ] ) ) ) {
                    echo $_GET[ 'min_price' ];
                } else {
                    echo $min_price;
                }
                ?>,
                <?php
                if ( isset( $_GET[ 'max_price' ] ) && is_numeric( trim( $_GET[ 'max_price' ] ) ) ) {
                    echo $_GET[ 'max_price' ];
                } else {
                    echo $max_price;
                }
                ?>
            );

            init_price_slider(
                'mslider-range',
                    <?php echo e($min_price); ?>,
                    <?php echo e($max_price); ?>,
                'mp-slider-min',
                'mp-slider-max',
                <?php if ( isset( $_GET[ 'min_price' ] ) && is_numeric( trim( $_GET[ 'min_price' ] ) ) ) {
                    echo $_GET[ 'min_price' ];
                } else {
                    echo $min_price;
                }
                ?>,
                <?php
                if ( isset( $_GET[ 'max_price' ] ) && is_numeric( trim( $_GET[ 'max_price' ] ) ) ) {
                    echo $_GET[ 'max_price' ];
                } else {
                    echo $max_price;
                }
                ?>
            );

            function init_price_slider(slider_id, min_val, max_val, min_display, max_display, current_min, current_max) {
                var PriceSlider = document.getElementById(slider_id);

                noUiSlider.create(PriceSlider, {
                    start: [current_min, current_max],
                    connect: true,
                    range: {
                        'min': min_val,
                        'max': max_val
                    }
                });

                var nodes = [
                    document.getElementById(min_display), // 0
                    document.getElementById(max_display)  // 1
                ];

                // Display the slider value and how far the handle moved
                // from the left edge of the slider.
                PriceSlider.noUiSlider.on('update', function (values, handle, unencoded, isTap, positions) {
                    nodes[handle].innerHTML = "<?php echo e($country_currency); ?>" + values[handle];
                });

                PriceSlider.noUiSlider.on('end', function (values) {

                    $('#spinner').show();

                    var min_max = {
                        'min_price': values[0],
                        'max_price': values[1]
                    };
                    window.location.assign(change_query_string_obj(min_max))
                });
            }
        });


        // Generate href for the list and grid view
        $('#gridView').attr('href', change_query_string('view', 'grid'));
        $('#listView').attr('href', change_query_string('view', 'list'));


        //============= Genetal price range initializer ================
        function init_range_slider(slider_id, min_val, max_val, unit_of_measure, min_display, max_display, filter_name, current_min, current_max) {
//            console.log(filter_name+"->"+current_min);
//            $( "#"+slider_id ).slider({
//              range: true,
//              min: min_val,
//              max: max_val,
//              values: [ current_min , current_max ],
//              slide: function( event, ui ) {
//                $( "#"+min_display ).html(  ui.values[ 0 ] + " " + unit_of_measure);
//                $( "#"+max_display ).html( ui.values[ 1 ] + " " + unit_of_measure);
//              },
//              step: 0.1,
//              change: function(event, ui) {
//
//               var filter_spec = "fr."+filter_name;
//               var filter_spec_value = ui.values[ 0 ] + "-" + ui.values[ 1 ];
//               window.location.assign(change_query_string(filter_spec,filter_spec_value));
//
//             }
//
//            });
//
//            $( "#"+min_display ).html($( "#"+slider_id ).slider( "values", 0 ) + " " + unit_of_measure );
//            $( "#"+max_display ).html( $( "#"+slider_id ).slider( "values", 1 ) + " " + unit_of_measure );
//
//


            var html5Slider = document.getElementById(slider_id);

            noUiSlider.create(html5Slider, {
                start: [current_min, current_max],
                connect: true,
                range: {
                    'min': min_val,
                    'max': max_val
                }
            });

            var nodes = [
                document.getElementById(min_display), // 0
                document.getElementById(max_display)  // 1
            ];

            // Display the slider value and how far the handle moved
            // from the left edge of the slider.
            html5Slider.noUiSlider.on('update', function (values, handle, unencoded, isTap, positions) {
                nodes[handle].innerHTML = values[handle] + " " + unit_of_measure;
            });

            html5Slider.noUiSlider.on('end', function (values) {

                $('#spinner').show();

                console.log(values);

                var filter_spec = "fr." + filter_name;
                var filter_spec_value = values[0] + "-" + values[1];
                window.location.assign(change_query_string(filter_spec, filter_spec_value));
            });


        }


        //================= End of  Genetal price range initializer =============

        function generate_filter_element_url(element_id, parent_element_id, filter_name, Screen, encoded_spec_value, actual_spec_value) {
             console.log(Screen);
            var filter_spec = "f." + filter_name;

            var f_state = $('#mfilter_state').val();



            var sepc_divs = $('#' + parent_element_id).find("a.active-checked");
            var selected_specs_array = [];
            $.each(sepc_divs, function (index, value) {
                var new_value = $(value).find('span').text().trim();
                selected_specs_array.push(new_value);
            });

            var actual_spec_value = encoded_spec_value.trim();
            if (jQuery.inArray(actual_spec_value, selected_specs_array) != '-1') { //found the current element in the list of selected elements
                //remove it
                selected_specs_array.splice($.inArray(actual_spec_value, selected_specs_array), 1);
            } else {    //did not find the current element in the list of selected elements
                //add it as the next parameter
                selected_specs_array.push(encoded_spec_value);
            }

            var selected_specs = selected_specs_array.join();


            var filter_spec_value = selected_specs;

            if(Screen == 'm'){
                var obj = {};
                obj[filter_spec] = filter_spec_value;
                obj['fs'] =  1;

                console.log(obj);
                var new_url = change_query_string_obj(obj);
            }else{
                var new_url = change_query_string(filter_spec , filter_spec_value );
            }


             console.log(new_url);
            $('#' + element_id).attr('href', new_url);
        }


        function genereateSortLink(sortValue) {
            $('#spinner').show();
            console.log(sortValue);
            var new_url = change_query_string('sort', sortValue);
            window.location.assign(new_url);
        }


    </script>
<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.master', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>